(function(){"use strict";TS.registerModule("i18n",{onStart:function(){if(!_is_setup)_setup()},t:function(str,ns,locale){if(!_is_setup)_setup();if(!ns&&_is_dev){var log=TS.error?TS.error:console.error;log.call(this,"TS.i18n.t requires a namespace string as the second argument. Currently "+ns+".");return function(){return""}}locale=locale||TS.i18n.locale;var key=locale+":"+ns+":"+str;if(_translations[key]===undefined){if(_is_pseudo){_translations[key]=new MessageFormat(locale,_getPseudoTranslation(str)).format}else{_translations[key]=new MessageFormat(locale,str).format}if(_is_dev&&(TS.qs_args&&TS.qs_args.local_assets||TS.qs_args&&TS.qs_args.js_path)){_translations[key].toString=_devWarningForImproperUse(key,ns)}}return _translations[key]},number:function(num){return new Intl.NumberFormat(TS.i18n.locale).format(num)},possessive:function(str){if(_.endsWith(str,"s")){return"’"}return"’s"},listify:function(arr,options){var and;var list=[];var l=arr.length;var conjunction=options&&options.conj==="or"?TS.i18n.t("or","general")():TS.i18n.t("and","general")();var oxford=l>2?",":"";var wrap_start=options&&options.strong?"<strong>":"";var wrap_end=options&&options.strong?"</strong>":"";var no_escape=options&&options.no_escape;switch(TS.i18n.locale){case"ja-JP":and=", ";break;default:and=oxford+" "+conjunction+" "}arr.forEach(function(s,i){if(!no_escape)s=TS.utility.htmlEntities(s);list.push(wrap_start+s+wrap_end);if(i<l-2){list.push(", ")}else if(i<l-1){list.push(and)}});return list},start_of_the_week:{"en-US":0}});var _is_setup;var _is_dev;var _is_pseudo;var _translations={};var _dev_warned_translations=[];var _setup=function(){_is_dev=location.host.match(/(dev[0-9]*)\.slack.com/);var locale=location.search.match(new RegExp("locale=(.*?)($|&)","i"));if(locale)TS.i18n.locale=locale[1];if(!TS.i18n.locale){if(TS.boot_data&&TS.boot_data.locale){TS.i18n.locale=TS.boot_data.locale}else{TS.i18n.locale=document.documentElement.getAttribute("data-locale")||_DEFAULT_LOCALE}}if(TS.i18n.locale===_PSEUDO_LOCALE){_is_pseudo=true;TS.i18n.locale="fr-FR"}else{TS.i18n.locale=TS.i18n.locale.replace(/_/,"-")}_is_setup=true};var _devWarningForImproperUse=function(str,ns){return function(){var dev_warning_key=ns+"."+str;if(_dev_warned_translations.indexOf(dev_warning_key)>=0)return;_dev_warned_translations.push(dev_warning_key);var example_invocation="TS.i18n.t("+JSON.stringify(str)+", "+JSON.stringify(ns)+")";TS.console.logStackTrace("Tried to use an i18n function as a string — you probably did "+example_invocation+" when you meant to do "+example_invocation+"()");alert("Dev-only alert: tried to use an i18n function as a string! See console for stack trace.\n\nNamespace: "+ns+"\nString: "+str);return""}};var _getPseudoTranslation=function(str){var regex=/(<[^>]+>)|(&\w+;)/gi;var tags=str.match(regex)||[];str=str.replace(regex,"<>");var parsed=parseMessageFormatString(str);if(parsed.error)TS.error(parsed.error);var substr;var key;str=parsed.tokens.map(function(t){if(t[0]==="text"){substr=t[1];for(key in _PSEUDO_MAP){substr=substr.replace(_PSEUDO_MAP[key][0],_PSEUDO_MAP[key][1])}return substr.split(" ").map(function(word){word+=new Array(Math.round(word.length*1.3)-word.length+1).join("~");return word}).join(" ")}return t[1]}).join("");return str.split("<>").map(function(w,i){return w+(tags[i]||"")}).join("")};var _DEFAULT_LOCALE="en-US";var _PSEUDO_LOCALE="pseudo";var _PSEUDO_MAP={a:[/a/g,"á"],b:[/b/g,"β"],c:[/c/g,"ç"],d:[/d/g,"δ"],e:[/e/g,"è"],f:[/f/g,"ƒ"],g:[/g/g,"ϱ"],h:[/h/g,"λ"],i:[/i/g,"ï"],j:[/j/g,"J"],k:[/k/g,"ƙ"],l:[/l/g,"ℓ"],m:[/m/g,"₥"],n:[/n/g,"ñ"],o:[/o/g,"ô"],p:[/p/g,"ƥ"],q:[/q/g,"9"],r:[/r/g,"ř"],u:[/u/g,"ú"],v:[/v/g,"Ʋ"],w:[/w/g,"ω"],x:[/x/g,"ж"],y:[/y/g,"¥"],z:[/z/g,"ƺ"],A:[/A/g,"Â"],B:[/B/g,"ß"],C:[/C/g,"Ç"],D:[/D/g,"Ð"],E:[/E/g,"É"],I:[/I/g,"Ì"],L:[/L/g,"£"],O:[/O/g,"Ó"],P:[/P/g,"Þ"],S:[/S/g,"§"],U:[/U/g,"Û"],Y:[/Y/g,"Ý"]}})();
