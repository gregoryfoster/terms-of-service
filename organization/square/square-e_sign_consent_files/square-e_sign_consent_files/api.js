if(!square){var square={}}square.api=(function(){var c="/api/v1/";function a(g,f){var e=parseInt(g.status);return e>=200&&e<=299&&f&&f.success}function b(g,f){var e=parseInt(g.status);return(e>=400&&e<=599)||!f||!f.success}function d(f){var e=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return e.test(f)}return{apiCall:function(j,i,g,f,k){g=g||{};g.success=g.success||function(){};g.error=g.error||function(){};k=k||{};$.extend(k,{"X-CSRF-Token":$("meta[name=csrf-token]").attr("content")});var h=function(m){var l=$.parseJSON(m.responseText);if(a(m,l)){g.success(l)}else{if(b(m,l)){g.error(l)}}};var e=(d(j))?j:(c+j);$.ajax({url:e,dataType:"json",type:f,data:i,complete:h,headers:k})},get:function(g,f,e,h){this.apiCall(g,f,e,"GET",h)},post:function(g,f,e,h){this.apiCall(g,f,e,"POST",h)}}})();